pipeline {
  agent any
  stages{
    stage("Install dependencies") {
       agent {
            docker {
                reuseNode true
                image 'node:alpine'
            }
       }
       steps {
          sh 'npm ci'
       }
    }
    stage("UI Testing") {
       agent {
            docker {
                reuseNode true
                image 'node:alpine'
            }
       }
       steps {
          sh 'npm test'
       }
    }
  }
}
